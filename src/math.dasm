; all angles multiplied by 4 for better precision
; all angles multiplied by 1000 for integer calculations

:sin_4x
	IFG A, 359  ; for angle > 90, sin(angle) == sin (90 - angle)
		SUB A, 360

	ADD A, sin_table_4x
	SET A, [A]	; sin in A
	SET PC, POP

:cos_4x
	SET PUSH, B
	; COS calculated from SIN in reverse order
	SET B, 360	; set 90 graduses
	IFG A, 360
		SET B, 720	; for angle > 90, initial value 180

	SUB B, A	; cos (a) = sin (90 - a)
	ADD B, sin_table_4x
	SET B, [B]	; cos in B

	SET A, B	; return value

	SET B, POP
	SET PC, POP

:sin_table_4x
	DAT 0,4,8,13,17,21,26,30,34,39,43,47,52,56,61,65,69,74,78,82,87,91,95,100,104,108,113,117,121,126,130,134,139,143,147,152,156,160,165,169,173,177,182,186,190,195,199,203,207,212,216,220,224,229,233,237,241,246,250,254,258,263,267,271,275,279,284,288,292,296,300,304,309,313,317,321,325,329,333,337,342,346,350,354,358,362,366,370,374,378,382,386,390,394,398,402,406,410,414,418,422,426,430,434,438,442,446,450,453,457,461,465,469,473,477,480,484,488,492,496,499,503,507,511,515,518,522,526,529,533,537,540,544,548,551,555,559,562,566,569,573,577,580,584,587,591,594,598,601,605,608,612,615,619,622,625,629,632,636,639,642,646,649,652,656,659,662,665,669,672,675,678,681,685,688,691,694,697,700,704,707,710,713,716,719,722,725,728,731,734,737,740,743,746,748,751,754,757,760,763,766,768,771,774,777,779,782,785,788,790,793,796,798,801,803,806,809,811,814,816,819,821,824,826,829,831,833,836,838,841,843,845,848,850,852,854,857,859,861,863,866,868,870,872,874,876,878,880,882,884,887,889,891,892,894,896,898,900,902,904,906,908,909,911,913,915,917,918,920,922,923,925,927,928,930,932,933,935,936,938,939,941,942,944,945,946,948,949,951,952,953,955,956,957,958,960,961,962,963,964,965,967,968,969,970,971,972,973,974,975,976,977,978,979,979,980,981,982,983,984,984,985,986,986,987,988,989,989,990,990,991,992,992,993,993,994,994,994,995,995,996,996,996,997,997,997,998,998,998,998,999,999,999,999,999,999,999,999,999,999